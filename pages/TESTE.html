<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Teste</title>
    <style>
        canvas {
            display: block;
        }
    </style>

    <!-- CSS -->
    <link rel="stylesheet" href="../assets/common/css/config.css">
</head>

<body>

    <canvas id="myCanvas" width="1280" height="720" style="border:solid 3px orange;">
        Your browser does not support HTML5 Canvas.
    </canvas>

    <script>
        var canvas = document.getElementById("myCanvas");
        var ctx = canvas.getContext("2d");

        var guardaRedes = new Image();
        guardaRedes.src = '../assets/common/sprites/keeper/Sprite3.png';

        var a = 0;
        var x = 500;
        var y = 100;
        var frameIndex = 0;

        /*for (var i = 0; i < 3; i++) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.drawImage(guardaRedes, frameIndex * 288, 0, 288, 288, x, y, 288, 288);
            frameIndex++;
            x += -15;
            console.log("olaaaaaa");
            sleep(2000);
        }*/

        window.onload = function () {
            animateguardaRedes();
        }

        function animateguardaRedes() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.drawImage(guardaRedes, frameIndex * 288, 0, 288, 288, x, y, 288, 288);
            a++
            if (a == 200) {
                frameIndex++;
                x += 100;
            }
            console.log("olaaaaaa");
        }

        //animateguardaRedes();

        guardaRedes.addEventListener('load', function () { window.setInterval(animateguardaRedes, 1000 / 60); });

        function sleep(milliseconds) {
            var start = new Date().getTime();
            for (var i = 0; i < 1e7; i++) {
                if ((new Date().getTime() - start) > milliseconds) {
                    break;
                }
            }
        }
    </script>
</body>